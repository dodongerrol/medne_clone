var mainCtrl=angular.module("mainCtrl",["ui.router"]);mainCtrl.controller("MainCtrl",["Auth","$state","$element","$scope",function(e,t,o,i){var n=this;n.user={},n.new_user={},n.loginUser=function(){$(".login-wrapper").hide(),$(".login-logo").hide(),$("#loader-home").fadeIn(500),n.error="",e.login(n.loginData).success(function(e){"false"==e.error&&($("#loader-home").fadeOut(500),t.go("home"),setTimeout(function(){$(".login-wrapper").show(),$(".login-logo").show()},5e3))}).error(function(e){console.log(e),n.error=e.error_description,$("#loader-home").hide(),$(".login-wrapper").fadeIn(),$(".login-logo").fadeIn(),$("#error_message").slideDown(300),setTimeout(function(){$("#error_message").slideUp(1300)},1e3)})},n.signUp=function(){var o=$("#phone").intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164);n.new_user.phone=o,n.new_user.password.length<8?(n.error="Password should have 8 characters",$("#error_message").slideDown(300),setTimeout(function(){$("#error_message").slideUp(1300)},1e3)):n.new_user.password==n.new_user.confirm_password?e.signUp(n.new_user).success(function(e){console.log(e),1==e.status||"true"==e.status?(t.go("login"),setTimeout(function(){$("#succ_message").slideDown(300),setTimeout(function(){$("#succ_message").slideUp(1300)},1e3)},2e3)):(n.error=e.message,$("#error_message").slideDown(300),setTimeout(function(){$("#error_message").slideUp(1300)},1e3))}).error(function(e){console.log(e)}):(n.error="Password does not match",$("#error_message").slideDown(300),setTimeout(function(){$("#error_message").slideUp(1300)},1e3))},n.forgotPassword=function(){var t=$("#reset-btn").text();$("#reset-btn").attr("disabled",!0),e.resetPassword(n.forgot.email).success(function(e){n.message=e.message,$("#reset-btn").text(t),$("#reset-btn").attr("disabled",!1),$("#success-reset").fadeIn(500)}).error(function(e){console.log(e)})},n.onLoad=function(){$(".modal").modal("hide");var o=e.isLoggedIn();console.log(o),"signup"!==t.$current.self.name&&"forgot"!==t.$current.self.name&&(1==o||"true"==o?t.go("home"):t.go("login"))},n.onLoad()}]),mainCtrl.controller("HeaderCtrl",["Auth","$state","$element","$scope","profilesModule",function(e,t,o,i,n){var r=this;r.user={},r.new_user={},n.getProfile().success(function(e){r.user=e.data.profile,r.user.name=e.data.profile.full_name.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}),r.logOut=function(){$("#loading").modal("show"),setTimeout(function(){t.go("login"),$("#loading").modal("hide")},1e3),e.logout()},r.onLoad=function(){$(".modal").modal("hide")},r.onLoad()}]),mainCtrl.controller("ResetCtrl",["Auth","$state","$stateParams","$scope",function(e,t,o,i){var n=this;n.reset={},n.onLoad=function(){$(".modal").modal("hide")},e.resetDetails(o.token).success(function(e){n.reset.user_id=e.user_id}).error(function(e){console.log(e)}),n.resetPassword=function(){return n.reset.new_password!=n.reset.re_password?(n.message="Please specify same password!",$("#success-reset").fadeIn(500),setTimeout(function(){$("#success-reset").fadeOut(500)},2e3),!1):n.reset.new_password.length<8?(n.message="Please select a Password atleat 8 characters.",$("#success-reset").fadeIn(500),setTimeout(function(){$("#success-reset").fadeOut(500)},2e3),!1):($("#reset-btn").text("Resetting..."),$("#reset-btn").attr("disabled",!0),e.resetProcess(n.reset.user_id,n.reset.re_password,n.reset.new_password).success(function(e){console.log(e),$("#reset-btn").text("Done"),$("#reset-btn").attr("disabled",!1),$("#main-reset-form").hide(),$("#success-reset-form").fadeIn()}).error(function(e){n.message=e,$("#reset-btn").text("Done"),$("#reset-btn").attr("disabled",!1),$("#success-reset").fadeIn(500)}),void 0)},n.onLoad()}]);var service=angular.module("authService",["ui.router"]);service.factory("Auth",["$http","$q","AuthToken","serverUrl","$window",function(e,t,o,i,n){var r={};return r.login=function(t){return t.grant_type="password",t.client_secret="b6589fc6ab0dc82cf12099d1c2d40ab994e8410c",t.client_id="cfcd208495d565ef66e7dff9f98764da",e({method:"POST",url:i.url+"auth/login",data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){return o.setToken(e.data.access_token),e})},r.resetPassword=function(t){return e.post(i.url+"auth/forgotpassword",{email:t})},r.resetDetails=function(t){return e.post(i.url+"auth/reset-details",{resetcode:t})},r.resetProcess=function(t,o,n){return e.post(i.url+"auth/reset-process",{userid:t,oldpass:o,newpass:n})},r.logout=function(){n.localStorage.removeItem("token")},r.isLoggedIn=function(){return!!o.getToken()},r.signUp=function(t){return e.post(i.url+"auth/signup",{full_name:t.full_name,email:t.email,password:t.password,phone:t.phone,latitude:0,longitude:0})},r}]),service.factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){if(console.log(t),t)return e.localStorage.setItem("token",t);e.localStorage.removeItem("token")},t}]),service.factory("AuthInterceptor",["$q","$window","AuthToken","$injector","$rootScope",function(e,t,o,i,n){var r={};return r.request=function(e){var t=o.getToken();return t&&(e.headers.Authorization=t),e},r.response=function(e){return console.log(i.get("$state")),0==e.data.login_status&&("password-reset"==i.get("$state").$current.self.name?window.location.href=window.location.origin+"/user#password-reset/"+i.get("$state").params.token:i.get("$state").transitionTo("login")),e},r.requestError=function(t){return console.log(t),0==t.status&&i.get("$state").transitionTo("login"),e.reject(t)},r}]);var benefitService=angular.module("benefitService",[]);benefitService.factory("benefitsModule",["serverUrl","$http",function(e,t){var o={};return o.categoryList=function(){return t.get(e.url+"clinic/clinic_type")},o}]);var favouriteService=angular.module("favouriteService",[]);favouriteService.factory("favouritesModule",["serverUrl","$http",function(e,t){var o={};return o.favouriteList=function(){return t.get(e.url+"clinic/get_favourite_clinics")},o.removeFavourite=function(o,i){return t.post(e.url+"clinic/favourite",{clinicid:o,status:i})},o.searchClinic=function(o){return t.get(e.url+"clinic/main_search?search="+o)},o}]);var appointmentService=angular.module("appointmentService",[]);appointmentService.factory("appointmentsModule",["serverUrl","$http",function(e,t){var o={};return o.appointmentList=function(){return t.get(e.url+"clinic/booking-history")},o.getAppointmentDetails=function(o){return t.get(e.url+"clinic/booking-detail/"+o)},o.cancelAppointment=function(o,i){return t.post(e.url+"doctor/booking-delete",{appointmentid:o,clinicid:i})},o.getClinicDetails=function(o){return t.get(e.url+"clinic/clinicdetails/"+o)},o.getProcedureDetails=function(o){return t.get(e.url+"clinic/procedure_details/"+o)},o.getDoctorProcedure=function(o){return t.get(e.url+"clinic/doctor_procedure/"+o)},o.getDoctorAvailability=function(o,i){return t.get(e.url+"doctor/availability?date="+o+"&doctorid="+i)},o.getSlotsRefresh=function(o,i,n,r){return t.post(e.url+"doctor/slots-refresh",{bookingdate:o,procedureid:n,doctorid:i,clinicid:r})},o.getDoctorMoreSlots=function(o,i,n){return t.post(e.url+"doctor/moreslots",{date:o,doctorid:i,clinicid:n})},o.BookingQueue=function(){return t.post(e.url+"doctor/booking-queue")},o.BookingSlot=function(){return t.post(e.url+"doctor/booking-slot")},o.getDoctorSlot=function(o,i,n){return t.post(e.url+"doctor/moreslots",{doctorid:i,date:o,clinicid:n})},o.getDoctorMoreQueues=function(o,i,n){return t.post(e.url+"doctor/morequeues",{doctorid:i,date:o,clinicid:n})},o.confirmSlot=function(o){return t.post(e.url+"doctor/confirm-slot",o)},o.resendSMS=function(o){return t.post(e.url+"auth/otpresend")},o.validateOTP=function(o){return t.post(e.url+"auth/otpvalidation",{otp_code:o})},o.otpUpdate=function(o,i,n){return t.post(e.url+"auth/otpupdate",{mobile_phone:o,promo_code:i,nric:n})},o}]);var walletService=angular.module("walletService",[]);walletService.factory("walletsModule",["serverUrl","$http",function(e,t){var o={};return o.categoryList=function(){return t.get(e.url+"user/credits")},o.submitCode=function(o){return t.post(e.url+"user/match/promo",{code:o})},o}]);var profileService=angular.module("profileService",[]);profileService.factory("profilesModule",["serverUrl","$http","Upload",function(e,t,o){var i={};return i.updateProfile=function(t){return o.upload({url:e.url+"auth/update",arrayKey:"",data:t,method:"POST"})},i.getProfile=function(){return t.get(e.url+"auth/userprofile")},i.profileUpdate=function(o){return t.post(e.url+"auth/update",o)},i.updateUserCredentials=function(o){return t.post(e.url+"auth/change-password",{oldpassword:o.oldpassword,password:o.password})},i.addMedication=function(o){return t.post(e.url+"auth/newmedication",{medication:o.medication,userid:o.userid,dosage:o.dosage})},i.addMedicalHistory=function(o){return t.post(e.url+"auth/newhistory",o)},i.addAllergy=function(o){return t.post(e.url+"auth/newallergy",o)},i.addMedicalCondition=function(o){return t.post(e.url+"auth/newcondition",o)},i.deleteMedication=function(o){return t.get(e.url+"auth/deletemedication?value="+o)},i.deleteMedicalHistory=function(o){return t.get(e.url+"auth/deletehistory?value="+o)},i.deleteAllergy=function(o){return t.get(e.url+"auth/deleteallergy?value="+o)},i.deleteMedicalCondition=function(o){return t.get(e.url+"auth/deletecondition?value="+o)},i}]);var clinicService=angular.module("clinicService",[]);clinicService.factory("clinicsModule",["serverUrl","$http",function(e,t){var o={};return o.searchClinicLocation=function(o,i,n){return t.get(e.url+"clinic/nearby?lat="+o+"&lng="+i+"&type="+n)},o}]);var app=angular.module("app",["ui.router","ngAnimate","unsavedChanges","angular-loading-bar","walletService","authService","mainCtrl","ngImageAppear","benefitService","clinicService","favouriteService","appointmentService","profileService","ngFileUpload"]);app.run(["$rootScope","$state","$stateParams",function(e,t,o){e.$state=t,e.$stateParams=o}]),app.factory("serverUrl",[function(){return{url:window.location.origin+"/v1/"}}]),app.config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","cfpLoadingBarProvider","$compileProvider",function(e,t,o,i,n,r){i.interceptors.push("AuthInterceptor"),n.parentSelector="#loading-selected",n.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',e.state("home",{url:"/home",data:{pageTitle:"Home"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/benefits.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("benefit-dashboard",{url:"/benefit-dashboard",data:{pageTitle:"Benefits Dashboard"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/benefit-dashboard.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("favourites",{url:"/favourites",data:{pageTitle:"Favourites"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/favourites.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("calendar",{url:"/calendar",data:{pageTitle:"Calendar"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/calendar.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("appointments",{url:"/appointments",data:{pageTitle:"Appointments"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/appointments.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("profile",{url:"/profile",data:{pageTitle:"Profile"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/profile.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("wallet",{url:"/wallet",data:{pageTitle:"Wallet"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/wallet.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("ecommerce",{url:"/ecommerce",data:{pageTitle:"Ecommerce"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/ecommerce.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("appointment-create",{url:"/appointment-create/:id/:state",data:{pageTitle:"Create Appointment"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/appointment-create.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("clinic-map",{url:"/clinic-map/:type",data:{pageTitle:"Clinic Location"},views:{header:{templateUrl:window.location.origin+"/user_platform/templates/menus/header.html"},main:{templateUrl:window.location.origin+"/user_platform/templates/clinic-map.html"},"side-menu":{templateUrl:window.location.origin+"/user_platform/templates/side-menu.html"},"fixed-menu-custom":{templateUrl:window.location.origin+"/user_platform/templates/menus/fixed-menu.html"}}}).state("login",{url:"/login",data:{pageTitle:"Login"},views:{header:{},main:{templateUrl:window.location.origin+"/user_platform/templates/auth/login.html"},"side-menu":{}}}).state("signup",{url:"/signup",data:{pageTitle:"Signup"},views:{header:{},main:{templateUrl:window.location.origin+"/user_platform/templates/auth/signup.html"},"side-menu":{}}}).state("forgot",{url:"/forgot",data:{pageTitle:"Forgot Password"},views:{header:{},main:{templateUrl:window.location.origin+"/user_platform/templates/auth/forgot.html"},"side-menu":{}}}).state("password-reset",{url:"/password-reset/:token",data:{pageTitle:"Password Reset"},views:{header:{},main:{templateUrl:window.location.origin+"/user_platform/templates/auth/password-reset.html"},"side-menu":{}}}),t.otherwise("/login")}]),app.directive("calendarDirective",["$http","serverUrl",function(e,t){return{restrict:"A",scope:!0,link:function(o,i,n){o.userInfo=function(){e.get(t.url+"auth/userprofile").success(function(e){o.user=e}).error(function(e){})},o.initializeCalendar=function(){$("#calendar").fullCalendar({defaultView:"agendaWeek",editable:!0,selectable:!0,eventLimit:!0,firstDay:1,columnFormat:"ddd, MMM DD",slotLabelInterval:"01:00:00",slotDuration:"00:15:00",timezone:"Asia/SingaPore",height:"parent",header:{left:"",center:"",right:""},allDaySlot:!1})},o.onLoad=function(){$(".sidebar ul li").removeClass("active"),$("#calendar_li").addClass("active"),$(".modal").modal("hide")},o.getCalendar=function(){$("#calendar").fullCalendar("getView")},o.userInfo(),o.initializeCalendar(),o.onLoad()}}}]),app.directive("homeDirective",["$http","serverUrl",function(e,t){return{restrict:"A",scope:!0,link:function(o,i,n){o.userInfo=function(){e.get(t.url+"auth/userprofile").success(function(e){o.user=e}).error(function(e){})},o.userInfo()}}}]),app.directive("benefitsDirective",["$http","benefitsModule","serverUrl",function(e,t,o){return{restrict:"A",scope:!0,link:function(i,n,r){i.category_list={},i.user={},$(".sidebar ul li").removeClass("active"),$(".sidebar ul li#home_li").addClass("active"),i.userInfo=function(){e.get(o.url+"auth/userprofile").success(function(e){i.user=e,i.getUsersLocation(),i.getCategoryList()}).error(function(e){})},i.getCategoryList=function(){t.categoryList().success(function(e){i.category_list=e.data.clinic_types,$("#loading-container").fadeOut(500),$(".benefit-container").fadeIn(500)}).error(function(e){})},i.getUsersLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){i.user.lat=e.coords.latitude,i.user.lng=e.coords.longitude},function(e){},{maximumAge:6e5,timeout:5e3,enableHighAccuracy:!0}):$.alert({title:"",content:"Geolocation is not supported by this browser.",columnClass:"small"})},i.onLoad=function(){$(".modal").modal("hide")},i.onLoad(),i.userInfo()}}}]),app.directive("appointmentsDirective",["$http","appointmentsModule","serverUrl","favouritesModule",function(e,t,o,i){return{restrict:"A",scope:!0,link:function(n,r,a){n.appointment_list={},n.appointment_details={},$(".sidebar ul li").removeClass("active"),$(".sidebar ul li#appointments_li").addClass("active"),$("#select-clinic").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),n.userInfo=function(){e.get(o.url+"auth/userprofile").success(function(e){n.user=e}).error(function(e){})},n.getAppointmentList=function(){t.appointmentList().success(function(e){n.appointment_list=e.data,$("#loading-container").fadeOut(500),$("#appointment-options").fadeIn(500),$(".upcoming").fadeIn(500),$(".past").fadeIn(500)}).error(function(e){})},n.formatDate=function(e){return moment(e).format("MMMM D, YYYY")},n.formatDateAppointmentDisplay=function(e){return moment(e).format("Do MMMM YYYY")},n.showAppointment=function(e){t.getAppointmentDetails(e).success(function(e){n.appointment_details=e.data,$("#trackModal").modal("show")}).error(function(e){})},n.cancelAppointment=function(e,o){var i=$("#cancel-appointment").text();$("#cancel-appointment").text("CANCELLING..."),$("#cancel-appointment").attr("disabled",!0),t.cancelAppointment(e,o).success(function(e){$("#cancel-appointment").attr("disabled",!1),$("#cancel-appointment").text(i),n.getAppointmentList(),$("#trackModal").modal("hide"),n.appointment_details={}}).error(function(e){})},n.searchClinic=function(){n.search_list=[],i.searchClinic(n.search.clinic_name).success(function(e){angular.forEach(e.data.clinics,function(e,t){$.inArray(e.clinic_id,n.fav_list)>=0?n.search_list.push({clinic_id:e.clinic_id,address:e.address,country:e.country,district:e.district,name:e.name,open_status:e.open_status,telephone:e.telephone,favourite:1}):n.search_list.push({clinic_id:e.clinic_id,address:e.address,country:e.country,district:e.district,name:e.name,open_status:e.open_status,telephone:e.telephone,favourite:0})}),angular.forEach(e.data.doctors,function(e,t){n.search_list.push({clinic_id:e.clinic_id,address:e.address,country:"",district:"",name:e.name,open_status:e.open_status,telephone:e.phone,favourite:2})})}).error(function(e){})},n.goToClinic=function(e){$("#search-clinic").modal("hide"),setTimeout(function(){window.location.href="#/appointment-create/"+e.clinic_id+"/favourites"},400)},n.addToFavourite=function(e){var t=e.favourite,o=0;0==t?(o=1,$("#fav_icon_"+e.clinic_id).removeClass("fa-heart-o"),$("#fav_icon_"+e.clinic_id).addClass("fa-heart")):(o=0,$("#fav_icon_"+e.clinic_id).removeClass("fa-heart"),$("#fav_icon_"+e.clinic_id).addClass("fa-heart-o")),i.removeFavourite(e.clinic_id,o).success(function(e){n.getFavouriteList()}).error(function(e){$.alert({title:"",content:"Oooops! Something went wrong.",columnClass:"small"})})},n.onLoad=function(){$(".modal").modal("hide")},n.onLoad(),n.userInfo(),n.getAppointmentList()}}}]),app.directive("favouritesDirective",["$http","serverUrl","favouritesModule","appointmentsModule","$state",function(e,t,o,i,n){return{restrict:"A",scope:!0,link:function(n,r,a){n.favourite_list={},n.search={},n.fav_list=[],n.search_list={},n.clinic_details={},n.clinic_procedure={},n.date={},n.date_temp_booking={},n.schedule_list={},n.booking={},$(".sidebar ul li").removeClass("active"),$(".sidebar ul li#favourites_li").addClass("active"),$("#select-clinic").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),n.userInfo=function(){e.get(t.url+"auth/userprofile").success(function(e){n.user=e}).error(function(e){})},n.getFavouriteList=function(){n.fav_list=[],o.favouriteList().success(function(e){n.favourite_list=e.data,angular.forEach(e.data,function(e,t){n.fav_list.push(e.clinic_id)}),$("#loading-container").fadeOut(500),$("#add-favourite").fadeIn(500),$("#fav-container").fadeIn(500)}).error(function(e){})},n.removeFavourite=function(e){$.confirm({title:"",content:"Are you sure you want to remove "+e.name.toUpperCase()+" ?",buttons:{confirm:function(){o.removeFavourite(e.clinic_id,0).success(function(t){$("#fav_"+e.clinic_id).fadeOut(500),n.getFavouriteList()}).error(function(e){$.alert({title:"",content:"Oooops! Something went wrong.",columnClass:"small"})})},cancel:function(){}}})},n.addToFavourite=function(e){var t=e.favourite,i=0;0==t?(i=1,$("#fav_icon_"+e.clinic_id).removeClass("fa-heart-o"),$("#fav_icon_"+e.clinic_id).addClass("fa-heart")):(i=0,$("#fav_icon_"+e.clinic_id).removeClass("fa-heart"),$("#fav_icon_"+e.clinic_id).addClass("fa-heart-o")),o.removeFavourite(e.clinic_id,i).success(function(e){n.getFavouriteList()}).error(function(e){$.alert({title:"",content:"Oooops! Something went wrong.",columnClass:"small"})})},n.searchClinic=function(){n.search_list=[],o.searchClinic(n.search.clinic_name).success(function(e){console.log(e),angular.forEach(e.data.clinics,function(e,t){0==$.inArray(e.clinic_id,n.fav_list)?n.search_list.push({clinic_id:e.clinic_id,address:e.address,country:e.country,district:e.district,name:e.name,open_status:e.open_status,telephone:e.telephone,favourite:0}):n.search_list.push({clinic_id:e.clinic_id,address:e.address,country:e.country,district:e.district,name:e.name,open_status:e.open_status,telephone:e.telephone,favourite:1})}),angular.forEach(e.data.doctors,function(e,t){n.search_list.push({clinic_id:e.clinic_id,address:e.address,country:"",district:"",name:e.name,open_status:e.open_status,telephone:e.phone,favourite:2})})}).error(function(e){})},n.onLoad=function(){$("#select-clinic").on("hidden.bs.modal",function(e){s=0,c=0,n.clinic_details=null,$("#procedures .tab-list .list .left a").removeClass("active"),$(".one a").tab("show"),$("#main-body").fadeIn(500),$("#schedule-list").hide()}),$("#select-clinic").modal({show:!1})};var s=0,c=0;n.selectProcedure=function(e,t){n.booking.list=e,$("#procedures .tab-list .list .left a").removeClass("active"),$("#procedures .tab-list .list:nth-child("+t+") .left a").addClass("active"),0==s?(i.getProcedureDetails(e.procedureid).success(function(t){n.clinic_doctors=t.data.doctors,n.selected_procedure_id=e.procedureid}).error(function(e){}),$(".two a").tab("show"),c=1):n.selectScheduleList(e,n.date_list[0].date,n.selected_doctor_id,e.procedureid,n.clinic_details.clinic_id,0)},n.selectDoctor=function(e){n.booking.list=e,0==c?(i.getDoctorProcedure(e.doctor_id).success(function(t){n.clinic_procedures=t.data.clinic_procedures,n.selected_doctor_id=e.doctor_id}).error(function(e){}),$(".one a").tab("show"),s=1):n.selectScheduleList(e,n.date_list[0].date,e.doctor_id,n.selected_procedure_id,n.clinic_details.clinic_id,0)},n.selectScheduleList=function(e,t,o,r,a,s){n.schedule_list=null,n.booking.list.doctor=e,n.date_temp_booking.date=t,n.date_temp_booking.doctor_id=o,n.date_temp_booking.procedure_id=r,n.date_temp_booking.clinic_id=a,$(".line-list").removeClass("line-list-active"),$("#line_indicator_"+s).addClass("line-list-active"),i.getSlotsRefresh(t,o,r,a).success(function(e){n.schedule_list=e.data.booking.timeslot,$("#main-body").hide(),$("#schedule-list").fadeIn(500)}).error(function(e){})},n.confirmBooking=function(e,t,o,i,r,a){n.booking.bookingdate=o,n.booking.starttime=e,n.booking.endtime=t,n.booking.procedureid=r,n.booking.doctorid=i,n.booking.remarks="",n.booking.clinicid=a,$("#schedule-list").hide(),$("#confirm-details").fadeIn(500)},n.submitBooking=function(){var e=$("#confirm-booking").text();$("#confirm-booking").text("SUBMITTING..."),$("#confirm-booking").attr("disabled",!0),i.confirmSlot(n.booking).success(function(t){t.status,$.alert({title:"",content:t.data.message,columnClass:"small"}),$("#confirm-booking").text(e),$("#confirm-booking").attr("disabled",!1),$(""),n.booking={},n.date_temp_booking={},n.clinic_details={},n.clinic_procedures={},n.clinic_doctors={},s=0,c=0}).error(function(e){})};var l,d;n.BookingSlot=function(e,t,o,r,a,s){n.booking.bookingdate=o,n.booking.starttime=e,n.booking.endtime=t,n.booking.procedureid=a,n.booking.doctorid=r,n.booking.remarks="",n.booking.clinicid=s,i.BookingSlot().success(function(e){n.booking.nric=e.data.nric,n.booking.phone=e.data.phone,l=e.status,d=e.reconciliation,$("#schedule-list").hide(),$("#confirm-details").fadeIn(500)}).error(function(e){})},n.getDoctorAvailability=function(e,t,o,n){i.getDoctorAvailability(e,t).success(function(e){}).error(function(e){})},n.getDoctorMoreQueues=function(e,t,o,n){i.getDoctorMoreQueues(e,t,n).success(function(e){}).error(function(e){})},n.getDateList=function(){n.date_list=[];var e=[],t=moment(new Date).format("YYYY-MM-DD"),o=moment(t,"YYYY-MM-DD").add(3,"days");moment.range(t,o).by("days",function(t){e.push({date:t._d})}),angular.forEach(e,function(e,t){n.date_list.push({date:moment(e.date).format("DD-MM-YYYY")})})},n.formatDateAppointmentDisplay=function(e){return moment(e).format("Do MMMM YYYY")},n.showMain=function(){$("#main-body").fadeIn(500),$("#schedule-list").hide()},n.showAppiontments=function(){$("#schedule-list").fadeIn(500),$("#confirm-details").hide()},n.confirmBookingModal=function(){0==response.status&&1==response.reconciliation||($("#confirmBookingModal").fadeIn(500),$("#mainModal").hide())},n.cancelBookingModal=function(){$("#confirmBookingModal").hide(),$("#mainModal").fadeIn(500)},n.backToNric=function(){$("#confirmBookingModal").hide(500),$("#mainModal").fadeIn(500)},n.getDateList(),n.userInfo(),n.getFavouriteList(),n.onLoad()}}}]),app.directive("profileDirective",["$http","profilesModule","Upload","serverUrl",function(e,t,o,i){return{restrict:"A",scope:!0,link:function(e,o,i){e.user={},e.user_credentials={},e.add_medication={},e.medical_list={},$(".sidebar ul li").removeClass("active"),$(".sidebar ul li#profile_li").addClass("active"),e.$watch("picFile",function(t,o){t!==o&&(e.user.file=t)}),$(".modal").on("hidden.bs.modal",function(){e.userInfo()}),e.formatDate=function(e){return moment(e).format("MMM D, YYYY")},e.userInfo=function(){t.getProfile().success(function(t){e.user=t.data.profile,e.medical_list=t.data,e.add_medication.userid=t.data.profile.user_id}).error(function(e){})},e.showForm=function(){$(".form").fadeIn(),$(".default").hide()},e.hideForm=function(){$(".default").fadeIn(),$(".form").hide()},e.onLoad=function(){$(".modal").on("hidden.bs.modal",function(e){$(".default").fadeIn(),$(".form").hide()}),$(".modal").modal("hide")},e.updateUserProfile=function(){var o=$("#update-profile").text();$("#update-profile").text("Updating Profile..."),$("#update-profile").attr("disabled",!0);var i={age:e.user.age,blood_type:e.user.blood_type,bmi:e.user.bmi,dob:e.user.dob,email:e.user.email,fin:e.user.fin,full_name:e.user.full_name,height:e.user.height,insurance_company:e.user.insurance_company,insurance_policy_name:e.user.insurance_policy_name,insurance_policy_no:e.user.insurance_policy_no,mobile_phone:e.user.mobile_phone,nric:e.user.nric,photo_url:e.user.photo_url,user_id:e.user.user_id,weight:e.user.weight,file:e.user.file},n=t.updateProfile(i);n.then(function(t){$("#update-profile").text(o),$("#update-profile").attr("disabled",!1),e.picFile=!1,e.userInfo()}),n.progress(function(t){e.progressPercentage=parseInt(100*t.loaded/t.total)})},e.updateCredentials=function(){var o=$("#update-pass").text();$("#update-pass").attr("disabled",!0),$("#update-pass").text("Updating Password..."),e.user_credentials.password==e.user_credentials.retype_password?t.updateUserCredentials(e.user_credentials).success(function(t){$("#update-pass").attr("disabled",!1),$("#update-pass").text(o),$.alert({title:"",content:t.web_message,columnClass:"small"}),e.user_credentials={}}).error(function(e){}):($("#update-pass").attr("disabled",!1),$("#update-pass").text(o),$.alert({title:"",content:"Password did not match on New Password and Confirm Password!",columnClass:"small"}))},e.addMedication=function(){t.addMedication(e.add_medication).success(function(t){e.add_medication={},e.userInfo(),e.hideForm()}).error(function(e){})},e.delete=function(o,i){"history"==o?t.deleteMedicalHistory(i.record_id).success(function(t){1==t.status&&(e.medical_list.history.splice(e.medical_list.history.indexOf(i),1),e.userInfo())}).error(function(e){}):"medication"==o?t.deleteMedication(i.medication_id).success(function(t){1==t.status&&(e.medical_list.medications.splice(e.medical_list.medications.indexOf(i),1),e.userInfo())}).error(function(e){}):"allergy"==o?t.deleteAllergy(i.allergy_id).success(function(t){1==t.status&&(e.medical_list.allergies.splice(e.medical_list.allergies.indexOf(i),1),e.userInfo())}).error(function(e){}):"condition"==o&&t.deleteMedicalCondition(i.condition_id).success(function(t){1==t.status&&(e.medical_list.conditions.splice(e.medical_list.conditions.indexOf(i),1),e.userInfo())}).error(function(e){})},e.addMedicalHistory=function(){e.add_medication.user_id=e.add_medication.userid,t.addMedicalHistory(e.add_medication).success(function(t){e.add_medication={},e.userInfo(),e.hideForm()}).error(function(e){})},e.addAllergy=function(){t.addAllergy(e.add_medication).success(function(t){e.add_medication={},e.userInfo(),e.hideForm()}).error(function(e){})},e.addMedicalCondition=function(){t.addMedicalCondition(e.add_medication).success(function(t){e.add_medication={},e.userInfo(),e.hideForm()}).error(function(e){})},e.onLoad(),e.userInfo()}}}]),app.directive("walletDirective",["$http","serverUrl","walletsModule",function(e,t,o){return{restrict:"A",scope:!0,link:function(i,n,r){$(".sidebar ul li").removeClass("active"),$(".sidebar ul li#wallet_li").addClass("active"),i.wallet_list={},i.wallet_code={},i.userInfo=function(){e.get(t.url+"auth/userprofile").success(function(e){i.user=e}).error(function(e){})},i.getWallet=function(){o.categoryList().success(function(e){i.wallet_list=e.data}).error(function(e){})},i.submitCode=function(){o.submitCode(i.wallet_code).success(function(e){1==e.status?(i.getWallet(),$.alert({title:"",content:e.data.message,columnClass:"small"})):$.alert({title:"",content:e.data.message,columnClass:"small"})}).error(function(e){})},i.userInfo(),i.getWallet()}}}]),app.directive("clinicMapsDirective",["$http","clinicsModule","serverUrl","$state","$stateParams","favouritesModule",function(e,t,o,i,n,r){return{restrict:"A",scope:!0,link:function(e,o,i){e.clinic={},e.getClinicLocation=function(){
navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(o){t.searchClinicLocation(o.coords.latitude,o.coords.longitude,n.type).success(function(t){e.clinic_list=t.data.clinics}).error(function(e){})},function(){})};var a=0;e.toggleView=function(){0==a?($("#fav-container").hide(),$("#map-container").fadeIn(),$("#map-btn").hide(),$("#list-btn").fadeIn(),setTimeout(function(){e.initializeMap()},500),a=1):($("#fav-container").fadeIn(),$("#map-container").hide(),$("#map-btn").fadeIn(),$("#list-btn").hide(),a=0)},e.initializeMap=function(){var t,o,i=e.clinic_list,n=new google.maps.InfoWindow,r=new google.maps.Map(document.getElementById("map"),{zoom:12});navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var a={lat:e.coords.latitude,lng:e.coords.longitude};for(t=new google.maps.Marker({position:new google.maps.LatLng(a.lat,a.lng),map:r,animation:google.maps.Animation.DROP}),$(".gm-style-iw").css({width:"100px !important"}),n.setContent('<div id="iw-container" style="width: 294px;margin: 0 2px;text-align: center;"><div class="iw-title"> <div class="info"> <h3>You Are Here</h3> </div></div></div>'),n.open(r,t),google.maps.event.addListener(t,"click",function(e){return function(){n.setContent('<div id="iw-container" style="width: 294px;margin: 0 2px;text-align: center;"><div class="iw-title"> <div class="info"> <h3>You Are Here</h3> </div></div></div>'),n.open(r,e)}}(t)),r.setCenter(a),google.maps.event.addListener(n,"domready",function(){var e=$(".gm-style-iw"),t=e.prev();t.children(":nth-child(2)").css({display:"none"}),t.children(":nth-child(4)").css({display:"none"}),t.children(":nth-child(3)").find("div").children().css({"box-shadow":"rgba(72, 181, 233, 0.6) 0px 1px 6px","z-index":"1"}),e.next().css({display:"none"})}),o=0;o<i.length;o++){var s,c={url:i[o].annotation_url,scaledSize:new google.maps.Size(40,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)};s=1==i[o].open_status?'<i class="fa fa-circle green"></i> Open':'<i class="fa fa-circle red"></i> Closed',t=new google.maps.Marker({position:new google.maps.LatLng(i[o].lattitude,i[o].longitude),map:r,icon:c,animation:google.maps.Animation.DROP}),google.maps.event.addListener(t,"click",function(e,t){return function(){n.setContent('<div id="iw-container"><div class="iw-title"> <img src="'+i[t].image_url+'" /> <div class="info"> <h3>'+i[t].name+"</h3> <p>"+i[t].address+'</p> </div></div><div class="iw-status"> <p>'+s+' <a href="#/appointment-create/'+i[t].clinic_id+'/favourites" class="btn btn-book pull-right">BOOK NOW</a> </p></div></div>'),n.open(r,e)}}(t,o))}},function(){})},e.toggleFavs=function(t,o){1==o?e.removeFavourite(t):e.addToFavourite(t)},e.removeFavourite=function(t){$.confirm({title:"",content:"Are you sure you want to remove "+t.name.toUpperCase()+" from favourites?",buttons:{confirm:function(){r.removeFavourite(t.clinic_id,0).success(function(t){e.getClinicLocation()}).error(function(e){$.alert({title:"",content:"Oooops! Something went wrong.",columnClass:"small"})})},cancel:function(){}}})},e.addToFavourite=function(t){t.favourite;r.removeFavourite(t.clinic_id,1).success(function(t){e.getClinicLocation()}).error(function(e){$.alert({title:"",content:"Oooops! Something went wrong.",columnClass:"small"})})},e.onLoad=function(){$(".modal").modal("hide")},e.onLoad(),e.getClinicLocation()}}}]),app.directive("appointmentCreateDirective",["$http","appointmentsModule","serverUrl","$state","$stateParams","favouritesModule","profilesModule",function(e,t,o,i,n,r,a){return{restrict:"A",scope:!0,link:function(s,c,l){var d=0,u=0;s.clinic_details={},s.clinic_procedure={},s.date={},s.date_temp_booking={},s.schedule_list={},s.booking={},s.toggleFavs=function(e,t){1==t?s.removeFavourite(e):s.addToFavourite(e)},s.removeFavourite=function(e){$.confirm({title:"",content:"Are you sure you want to remove "+e.name.toUpperCase()+" from favourites ?",buttons:{confirm:function(){r.removeFavourite(e.clinic_id,0).success(function(e){$.alert({title:"",content:"Clinic removed from favourites",columnClass:"small"}),$("#activeFavs").hide(),$(".activeFavs").hide(),$("#notActiveFavs").show()}).error(function(e){$.alert({title:"",content:"Oooops! Something went wrong.",columnClass:"small"})})},cancel:function(){}}})},s.addToFavourite=function(e){e.favourite;r.removeFavourite(e.clinic_id,1).success(function(e){$.alert({title:"",content:"Clinic added to favourites",columnClass:"small"}),$("#activeFavs").show(),$(".activeFavs").show(),$("#notActiveFavs").hide(),$(".notActiveFavs").hide()}).error(function(e){$.alert({title:"",content:"Oooops! Something went wrong.",columnClass:"small"})})},s.userInfo=function(){e.get(o.url+"auth/userprofile").success(function(e){s.user=e}).error(function(e){})},s.findClinicDetails=function(e){s.clinic_details=null,t.getClinicDetails(n.id).success(function(e){s.clinic_details=e.data,s.clinic_procedures=e.data.clinic_procedures,s.clinic_doctors=e.data.doctors,$("#select-clinic").modal({show:!0,keyboard:!1,backdrop:"static"})}).error(function(e){})},s.selectProcedure=function(e,o){$("#procedures .tab-list .list .left a").removeClass("active"),$("#procedures .tab-list .list:nth-child("+o+") .left a").addClass("active"),0==d?(t.getProcedureDetails(e.procedureid).success(function(t){s.clinic_doctors=t.data.doctors,s.selected_procedure_id=e.procedureid,s.selected_procedure=t.data.name}).error(function(e){}),$(".two a").tab("show"),u=1):s.selectScheduleList(e,s.date_list[0].date,s.selected_doctor_id,e.procedureid,s.clinic_details.clinic_id,0)},s.selectDoctor=function(e){0==u?(t.getDoctorProcedure(e.doctor_id).success(function(t){s.clinic_procedures=t.data.clinic_procedures,s.selected_doctor_id=e.doctor_id}).error(function(e){}),$(".one a").tab("show"),d=1):s.selectScheduleList(e,s.date_list[0].date,e.doctor_id,s.selected_procedure_id,s.clinic_details.clinic_id,0)},s.selectScheduleList=function(e,o,i,n,r,a){s.schedule_list=null,s.booking.list=e,s.date_temp_booking.date=o,s.date_temp_booking.doctor_id=i,s.date_temp_booking.procedure_id=n,s.date_temp_booking.clinic_id=r,$(".line-list").removeClass("line-list-active"),$("#line_indicator_"+a).addClass("line-list-active"),$("#loading").modal("show"),t.getSlotsRefresh(moment(o).format("DD-MM-YYYY"),i,n,r).success(function(e){1==e.status?(s.schedule_list=e.data.booking.timeslot,s.booking.list.price=e.data.booking.price,s.booking.list.duration=e.data.booking.duration):$.alert({title:"",content:e.message,columnClass:"small"}),$("#main-body").hide(),$("#schedule-list").fadeIn(500),$("#loading").modal("hide")}).error(function(e){})},s.confirmBooking=function(e,t,o,i,n,r){s.booking.bookingdate=o,s.booking.starttime=e,s.booking.endtime=t,s.booking.procedureid=n,s.booking.doctorid=i,s.booking.remarks="",s.booking.clinicid=r,$("#schedule-list").hide(),$("#confirm-details").fadeIn(500)},s.submitBooking=function(){var e=$("#confirm-booking").text();$("#confirm-booking").text("SUBMITTING..."),$("#confirm-booking").attr("disabled",!0),t.confirmSlot(s.booking).success(function(t){1==t.status?(s.track_response=t.data.message,$("#trackPopupModal").modal({show:!0,keyboard:!1,backdrop:"static"})):$.alert({title:"",content:t.data.message,columnClass:"small"}),$("#confirm-booking").text(e),$("#confirm-booking").attr("disabled",!1)}).error(function(e){})};var m,f;s.BookingSlot=function(e,o,i,n,r,a){s.booking.bookingdate=i,s.booking.starttime=e,s.booking.endtime=o,s.booking.procedureid=r,s.booking.doctorid=n,s.booking.remarks="",s.booking.clinicid=a,t.BookingSlot().success(function(e){s.booking.nric=e.data.nric,s.booking.phone=e.data.phone,m=e.status,f=e.reconciliation,$("#schedule-list").hide(),$("#confirm-details").fadeIn(500)}).error(function(e){})},s.getDoctorAvailability=function(e,o,i,n){t.getDoctorAvailability(e,o).success(function(e){}).error(function(e){})},s.getDoctorMoreQueues=function(e,o,i,n){t.getDoctorMoreQueues(e,o,n).success(function(e){}).error(function(e){})},s.formatDateAppointmentDisplay=function(e){return moment(e).format("Do MMMM YYYY")},s.showMain=function(){$("#main-body").fadeIn(500),$("#schedule-list").hide()},s.showAppiontments=function(){$("#schedule-list").fadeIn(500),$("#confirm-details").hide()},s.confirmBookingModal=function(){if(s.booking.nric.length<9)return $.alert({title:"",content:"NRIC digit must be 6.",columnClass:"small"}),!1;if(s.booking.promo||(s.booking.promo=""),console.log(m,f),0==m&&1==f)t.otpUpdate(s.booking.phone,s.booking.promo,s.booking.nric).success(function(e){$("#confirm-opt").fadeIn(500),$("#confirm-details").hide()}).error(function(e){$.alert({title:"",content:e,columnClass:"small"})});else{var e={mobile_phone:s.booking.phone,nric:s.booking.nric};a.profileUpdate(e).success(function(e){$("#confirmBookingModal").fadeIn(500),$("#mainModal").hide()}).error(function(e){$.alert({title:"",content:e,columnClass:"small"})})}};var p=!1;s.optValidate=function(){1==p?($("#confirmBookingModal").fadeIn(500),$("#mainModal").hide()):t.validateOTP(s.booking.otp).success(function(e){1==e.status?(p=!0,$("#confirmBookingModal").fadeIn(500),$("#mainModal").hide()):$.alert({title:"",content:e.message,columnClass:"small"})}).error(function(e){$.alert({title:"",content:e,columnClass:"small"})})},s.resendSms=function(){t.resendSMS()},s.cancelBookingModal=function(){$("#confirmBookingModal").hide(),$("#mainModal").fadeIn(500)},s.backToNric=function(){$("#confirmBookingModal").hide(500),$("#mainModal").fadeIn(500),$("#confirm-opt").hide(500)},s.getDateList=function(){s.date_list=[];var e=[],t=moment(new Date).format("YYYY-MM-DD"),o=moment(t,"YYYY-MM-DD").add(4,"days");moment.range(t,o).by("days",function(t){e.push({date:t._d})}),angular.forEach(e,function(e,t){s.date_list.push({date:moment(e.date).format("YYYY-MM-DD")})})};var g,h=0;s.nextSetDate=function(){h++,s.date_list=[];var e=[],t=moment(new Date).add(h,"days").format("YYYY-MM-DD"),o=moment(t,"YYYY-MM-DD").add(4,"days");g=t,moment.range(t,o).by("days",function(t){e.push({date:t._d})}),angular.forEach(e,function(e,t){s.date_list.push({date:moment(e.date).format("YYYY-MM-DD")})})},s.backSetDate=function(){h--,s.date_list=[];var e=[],t=moment(g).subtract(1,"days").format("YYYY-MM-DD"),o=moment(t,"YYYY-MM-DD").add(4,"days");g=t,moment.range(t,o).by("days",function(t){e.push({date:t._d})}),angular.forEach(e,function(e,t){s.date_list.push({date:moment(e.date).format("YYYY-MM-DD")})})},s.onLoad=function(){$("#select-clinic").on("hidden.bs.modal",function(e){d=0,u=0,s.clinic_details=null,$("#procedures .tab-list .list .left a").removeClass("active"),$(".one a").tab("show"),$("#main-body").fadeIn(500),$("#schedule-list").hide(),$("body").css({"padding-right":"0px"})})},s.back=function(){$.confirm({title:"",content:"Are you sure you want to cancel?",buttons:{confirm:function(){i.go(n.state)},cancel:function(){}}})},s.getDirections=function(e,t){window.open("http://maps.google.com/maps?q="+e+","+t,"_blank")},s.userInfo(),s.onLoad(),s.findClinicDetails(),s.getDateList()}}}]),app.directive("ecommerceDirective",["$http","serverUrl",function(e,t){return{restrict:"A",scope:!0,link:function(e,t,o){e.oneHover=function(){$("#one").fadeIn(),$("#two").hide(),$("#three").hide(),$(".subcat-wrapper .subcat a").css({background:"#CDD6DA",color:"#000"}),$("#oneHover a").css({background:"#F36F36",color:"#FFF"})},e.twoHover=function(){$("#one").hide(),$("#two").fadeIn(),$("#three").hide(),$(".subcat-wrapper .subcat a").css({background:"#CDD6DA",color:"#000"}),$("#twoHover a").css({background:"#596D78",color:"#FFF"})},e.threeHover=function(){$("#one").hide(),$("#two").hide(),$("#three").fadeIn(),$(".subcat-wrapper .subcat a").css({background:"#CDD6DA",color:"#000"}),$("#threeHover a").css({background:"#596D78",color:"#FFF"})},e.onLoad=function(){$("#one").fadeIn(),$("#two").hide(),$("#three").hide(),$(".subcat-wrapper .subcat a").css({background:"#CDD6DA"}),$("#oneHover a").css({background:"#F36F36",color:"#FFF"}),$(".modal").modal("hide")},e.onLoad()}}}]);