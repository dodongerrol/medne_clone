<div credit-allocation-directive>
	<div class="navbar-blue-bg" style="margin-top: 60px;position: fixed;height: 40px;">
		<div class="container">
			<div class="welcome-container">
				<h4 ui-sref="benefits-dashboard">Overview</h4>
				<div class="arrow-up" style="visibility: hidden;"></div>
			</div>
			<div class="welcome-container">
				<div class="dropdown">
				  <h4 class="dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
				    Employee
				  </h4>
				  <ul class="dropdown-menu emp-overview-drop" aria-labelledby="dropdownMenu1" style="top: 20px;border-radius: 0;">
				    <li><a href="javascript:void(0)" ui-sref="employee-overview">Overview</a></li>
				    <li><a href="javascript:void(0)" ui-sref="cred-allocation">Credit Allocation</a></li>
				  </ul>
				</div>
				<div class="arrow-up-2" style="visibility: visible;"></div>
			</div>
			<div class="welcome-container">
				<h4 ui-sref="activity">Activity</h4>
				<div class="arrow-up-3" style="visibility: hidden;"></div>
			</div>
			<div class="welcome-container" ng-if="options.accessibility == 1">
				<h4 ui-sref="e-claim">Claim</h4>
				<div class="arrow-up-4" style="visibility: hidden;"></div>
			</div>
			<div class="welcome-container">
				<h4 ui-sref="statement">Statement</h4>
				<div class="arrow-up-5" style="visibility: hidden;"></div>
			</div>
			<div class="welcome-container">
				<h4 ui-sref="account-and-payment">Account</h4>
				<div class="arrow-up-5" style="visibility: hidden;"></div>
			</div>
		</div>
	</div>
	<div class="hrdb-body-container">
		<div class="container">
			<div class="col-lg-12">
				<h3 class="text-center" style="color: #5b5b5b;">Benefits Credit Allocation</h3>
				<h5 class="text-center" style="color: #5b5b5b;">Allocate your team's Benefits Credit</h5>
				<div class="white-space-20"></div>
				<div class="white-space-20"></div>
			</div>
			<div class="col-md-10 col-md-offset-1 no-padding">
				<p class="font-16 color-black2" style="margin-bottom: 0px;line-height: 1;">
					<span class="font-medium2 weight-700">Medical Spending Account</span>
					<span class="pull-right text-right font-12 color-gray weight-700"><span ng-bind="employees.length">15</span> Employees</span>
				</p>
			</div>
			<div class="col-md-10 col-md-offset-1 no-padding" style="margin-bottom: 50px;">
				<div class="col-md-7 no-padding">
					<p class="font-14 color-black2 weight-700">
						<span style="display: inline-block;width: 30%;">Total: S$ <span ng-bind="company_properties.total_allocation">00.00</span></span> 
						<span style="display: inline-block;width: 30%;">Allocated: S$ <span ng-bind="company_properties.allocated">00.00</span></span>
						<!-- <span style="display: inline-block;width: 30%;">Balance: S$ <span ng-bind="company_properties.medical_balance">00.00</span></span> -->
					</p>

					<p class="font-16 color-black2" style="margin-bottom: 0px;line-height: 1;">
						<span class="font-medium2 weight-700">Wellness Spending Account</span>
					</p>
					<p class="font-14 color-black2 weight-700">
						<span style="display: inline-block;width: 30%;">Total: S$ <span ng-bind="company_properties.total_allocation_wellness">00.00</span></span> 
						<span style="display: inline-block;width: 30%;">Allocated: S$ <span ng-bind="company_properties.allocated_wellness">00.00</span></span>
						<!-- <span style="display: inline-block;width: 30%;">Balance: S$ <span ng-bind="company_properties.wellness_balance">00.00</span></span> -->
					</p>
				</div>
				<div class="col-md-5 no-padding">
					<form ng-submit="searchEmployee( )">
						<input type="text" class="form-control pull-right" style="width: 300px;background-color: #f7f7f7;" placeholder="Enter Employee and press enter.." id="search-employee-input" ng-model="search">
						<!-- ng-click="searchEmployee(inputSearch)" -->
						<label for="search-employee-input" class="search-employee-icon" >
							<i ng-if="!search" class="fa fa-search fa-fw"></i>
							<i ng-if="search" class="fa fa-times fa-fw" ng-click="removeSearchEmp()"></i>
						</label>
					</form>
				</div>
				
				<div class="white-space-50"></div>
				<div class="white-space-20"></div>
			</div>

			<div class="col-md-12" style="padding: 0 40px;">
				<div class="col-md-4" ng-repeat="emp in employees" style="padding: 0 10px;">
					<div class="cred-emp-wrapper" style="min-height: 505px;">
		        <h3 class="weight-700">
		          <span ng-bind="emp.name | limitTo: 30">Filbert Tan</span> 
		        </h3>

		        <div style="padding: 10px 20px">
		          <p>
		            <label>Email Address:</label>
		            <span ng-if="emp.name != ''" style="font-size:14px;display:block;color: #777" ng-bind="emp.email"></span>
		            <span ng-if="emp.email == ''" style="font-size:14px;display:block;color: #777">null</span>
		          </p>

		          <p style="min-height: 73px;">
		            <label>Job Title:</label>
		            <span ng-if="emp.job_title != ''" style="font-size:14px;display:block;color: #777" ng-bind="emp.job_title"></span>
		            <span ng-if="emp.job_title == ''" style="font-size:14px;display:block;color: #777">null</span>
		          </p>

		          <p class="no-margin-bottom">
		            <label style="font-size: 18px;">Credit Allocation:</label>
		          </p>
		          <div class="cred-allocation-spending-type-container">
		              <button ng-class="{ 'active': emp.creditAllocSpendingType == 0 }" class="btn btn-default btn-medical" ng-click="setSpendType(emp,0)">Medical</button>
		              <button ng-class="{ 'active': emp.creditAllocSpendingType == 1 }" class="btn btn-default btn-wellness" ng-click="setSpendType(emp,1)">Wellness</button>
		          </div>
		          <div class="col-md-6 no-padding">
		          	<p style="margin: 2px 0">
			            <span ng-if="emp.creditAllocSpendingType == 0" style="width: 75px;display: inline-block;font-size: 12px;font-weight: 700;">S$<span ng-bind="emp.spending_account.medical.credits_allocation"></span></span>
			            <span ng-if="emp.creditAllocSpendingType == 1" style="width: 75px;display: inline-block;font-size: 12px;font-weight: 700;">S$<span ng-bind="emp.spending_account.wellness.credits_allocation_wellness"></span></span>
			            <span style="font-size: 12px;font-weight: 700;">Allocated</span>
			          </p>
		          </div>

		          <div class="col-md-6">
	              <div class="cred-allocation-trans-type-container">
	                <button ng-class="{ 'active': emp.creditAllocTransactionType == 0 }" class="btn btn-default btn-add" ng-click="setTransType(emp,0)">Add</button>
	                <button ng-class="{ 'active': emp.creditAllocTransactionType == 1 }" class="btn btn-default btn-deduct" ng-click="setTransType(emp,1)">Deduct</button>
	              </div>
	            </div>
		          
		          <p style="margin: 2px 0">
		            <span ng-if="emp.creditAllocSpendingType == 0" style="width: 75px;display: inline-block;font-size: 12px;font-weight: 700;">S$<span ng-bind="emp.spending_account.medical.credits_spent"></span></span>
		            <span ng-if="emp.creditAllocSpendingType == 1" style="width: 75px;display: inline-block;font-size: 12px;font-weight: 700;">S$<span ng-bind="emp.spending_account.wellness.credits_spent_wellness"></span></span>
		            <span style="font-size: 12px;font-weight: 700;">Spent</span> 
		          </p>

		          <!-- <p style="margin: 2px 0">
		            <span ng-if="emp.creditAllocSpendingType == 0" style="width: 75px;display: inline-block;font-size: 12px;font-weight: 700;">S$<span ng-bind="emp.spending_account.medical.balance"></span></span>
		            <span ng-if="emp.creditAllocSpendingType == 1" style="width: 75px;display: inline-block;font-size: 12px;font-weight: 700;">S$<span ng-bind="emp.spending_account.wellness.balance"></span></span>
		            <span style="font-size: 12px;font-weight: 700;">Balance</span> 
		          </p> -->

		          <div class="white-space-10"></div>

		          <span class="inputAdd" ng-if="emp.creditAllocTransactionType == 0">
		            <p class="no-margin" style="font-size:13px">Credits to Add*</p>
		            <input valid-number type="text" min="1" ng-model="emp.add_credit" style="border: none;width: 63%;border-bottom: 1px solid #aaa;">
		          </span>

		          <span class="inputDeduct" ng-if="emp.creditAllocTransactionType == 1">
		            <p class="no-margin" style="font-size:13px">Credits to Deduct*</p>
		            <input valid-number type="text" min="1" ng-model="emp.deduct_credit" style="border: none;width: 63%;border-bottom: 1px solid #aaa;">
		          </span>

		          <div class="white-space-20"></div>
		          <div class="col-md-12 no-padding">
		          	<button ng-disabled="emp.loading" class="btn btn-default btn-emp-update"  data-toggle="modal" data-target="#input-pass" ng-click="setSelectedEmp(emp)">
			            Update
			          </button>
			          <br>
			          <span ng-if="emp.success" class="text-success">
			          	Success <i class="fa fa-check-circle"></i>
			          </span>
			          <span ng-if="emp.error" class="text-error">
			          	Failed <i class="fa fa-times-circle"></i>
			          </span>
			          <span ng-if="emp.empty" class="text-error">
			          	Please input credits. <i class="fa fa-times-circle"></i>
			          </span>
		          </div>
		          
		        </div>
		    	</div>
				</div>

				<div ng-if="no_result_err" class="col-md-12">
					<p class="text-center font-20">
						No results found.
					</p>
				</div>
			</div>

			<div class="col-md-10 col-md-offset-1">
				<div class="employee-overview-pagination">
					<div class="pagintaion-previous-next-container center-block" style="width: 350px;">
						<a id="pagination-prev" ng-click="prevPage()" ng-if="page_active > 1">
							<img src="../../assets/hr-dashboard/img/icons/right-arrow-angle.svg" style="margin-bottom: 2px;width: 15px;transform: rotate(180deg);">
							<span>Prev</span>
						</a>
						<label class="page-number" ng-bind="page_active">1</label>
						<a id="pagination-next" ng-click="nextPage()" ng-hide="page_active == emp_last_page">
							<span>Next</span>
							<img src="../../assets/hr-dashboard/img/icons/right-arrow-angle.svg" style="margin-bottom: 2px;width: 15px;">
						</a>
						<label ng-click="togglePage()" style="margin-top: 4px;color: #0392cf;cursor: pointer;position: relative;" class="pull-right">
							<span ng-bind="page_ctr"></span> per page
							<img src="../../assets/hr-dashboard/img/icons/right-arrow-angle-blue.svg" style="width: 11px;transform: rotate(90deg);">
							<div class="per_page">
								<ul class="nav">
									<li><a href="javascript:void(0);" ng-click="perPage(5)">5</a></li>
									<li><a href="javascript:void(0);" ng-click="perPage(10)">10</a></li>
									<li><a href="javascript:void(0);" ng-click="perPage(15)">15</a></li>
									<li><a href="javascript:void(0);" ng-click="perPage(20)">20</a></li>
									<li><a href="javascript:void(0);" ng-click="perPage(25)">25</a></li>
								</ul>
							</div>
						</label>
					</div>
				</div>
			</div>
		</div>

		<div class="col-md-12">
			<div class="white-space-50"></div>
		</div>

		<div class="modal fade" id="input-pass" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background: rgba(0, 0, 0, 0.3);">
		  <div class="modal-dialog" role="document" style="width: 350px;margin-top: 200px;">
		    <div class="modal-content">
		    	<form ng-submit="passwordCredit(passCredit)">
			      <div class="modal-header">
			        <h5 class="modal-title" id="exampleModalLabel"><b>Input Password</b></h5>
			      </div>
			      <div class="modal-body">
			        <div class="form-group">
			            <input type="password" class="form-control" ng-model="passCredit">
			            <p ng-if="show_error" class="text-error">{{err_mess}}</p>
			        </div> 
			      </div>
			      <div class="modal-footer">
			        
			        <button type="button" class="btn btn-default" ng-click="closePass()" style="color: #333;background-color: #fff;">Cancel</button>
			        <button id="password-submit" type="submit" class="btn btn-primary custom-btn">Submit</button>
			      </div>
		      </form>
		    </div>
		  </div>
		</div>
	</div>
</div>