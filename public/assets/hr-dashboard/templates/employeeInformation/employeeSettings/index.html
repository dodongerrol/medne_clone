<div class="employee-settings-container" employee-settings-directive>
  <div class="global-loader child-body-loading" hidden>
    <div class="loader-container">
      <div class="loader"></div>
    </div>
  </div>
  
  <div class="settings-information">
    <div class="employee-settings-wrapper">
      <div class="resend-reset-container">
        <button ng-disabled="selectedEmployee.member_activated == true" ng-click="_resetActivation_()" class="btn"><img class="envelope-icon" src="../assets/images/envelope.png"></i> Resend Activation Email</button>
        <button ng-disabled="selectedEmployee.member_activated == false " ng-click="_resetPassword_()" class="btn"><img class="envelope-icon" src="../assets/images/envelope.png"></i> Reset Password</button>
      </div>
      <button class="btn" ng-click="manageCap()"><i class="fa fa-dollar"></i> Manage Cap Per Visit</button>
			<button class="btn" ui-sref="member.health-partner-access"><i class="fa fa-cogs"></i> Health Providers Access</button>
			
			<button ng-click="assignAdmin()" data-toggle="modal" data-target="#add-administrator-modal" class="btn btn-admin">
				<img ng-if="false" class="admin-icon" src="../assets/hr-dashboard/img/admin-blue-icon.png">
				<img ng-if="true" class="admin-icon" src="../assets/hr-dashboard/img/edit.png">
				{{ true ? 'Assign Administrator' : 'Edit Permission' }}
			</button>
    </div>
  </div>

  <div style="padding-top: 70px;border-radius: 0;" class="modal fade" id="manage-cap-modal" tabindex="-1" role="dialog"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document" style="width: 400px;">
			<div class="modal-content" style="border-radius: 0;">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">
						<b>Manage Cap Per Visit</b>
						<img src="../assets/hr-dashboard/img/icons/close.svg" style="width: 15px;cursor: pointer;position: absolute;right: 16px;top: 16px;" data-dismiss="modal">
					</h5>
				</div>
				<div class="modal-body">
					<form>
						<div class="form-group">
							<label>GP cap per visit</label>
							<div class="input-group">
								<input type="num" class="form-control" min="0" aria-describedby="basic-addon2" ng-model="selectedEmployee.gp_cap_per_visit">
								<span class="input-group-addon" id="basic-addon2"><span class="currency-type" ng-bind="selectedEmployee.spending_account.currency_type"></span></span>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button class="btn btn-primary custom-btn"
						ng-click="submitCapPerVisit( selectedEmployee.gp_cap_per_visit )">SAVE & CONTINUE</button>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal fade administrator-modal-container employee-overview" id="add-administrator-modal" tabindex="-1" role= "dialog">
	<div ng-if="true" class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5>Add Administrator</h5>
			</div>
			<div ng-if="!isAddAdministratorConfirm && !isAddAdministratorSuccess" class="modal-body">
				<div class="mednefits-employee-selector-container">
					<label class="bold-text">Is this name a Mednefits employee?</label>
					<div class="display-flex">
						<div class="custom-checkbox-container active">
							<label class="checkbox-input">
								<span class="checkbox-text">Yes</span >
								<input ng-click="mednefitsEmployee('yes')" ng-model="add_admin_data.is_mednefits_emp" ng-value="1" type="radio"/>
								<span class="checkbox-mark"></span>
							</label>
						</div>
						<div class="custom-checkbox-container active">
							<label class="checkbox-input">
								<span class="checkbox-text">No</span >
								<input ng-click="mednefitsEmployee('no')" ng-model="add_admin_data.is_mednefits_emp" ng-value="0" type="radio"/>
								<span class="checkbox-mark"></span>
							</label>
						</div>
					</div>
				</div>
				<div ng-if="add_admin_data.is_mednefits_emp == 1 " class="mednefits-employee-name">
					<div class="permission-wrapper employee-name">
						<label class="bold-text">Employee name</label>
						<div class="activated-text">(Activated account and email address are required to be an Administrator)</div>
						<div class="display-flex">
							<form>
								<div class="emp-name-input-wrapper emp-overview-employee-input">
									<i class="fa fa-search"></i>
									<input type="type" placeholder="Search by name" ng-model="add_admin_data.employee_name" readonly>
									<i class="fa fa-angle-down"></i>

								</div>
							</form>
						</div>
					</div>
				</div>
				<!-- <div ng-if="add_admin_data.is_mednefits_emp == 0 " class="">
					<div class="admin-input-wrapper">
						<label class="bold-text">Full Name</label>
						<input ng-change="changeBtnToActive()" ng-model="add_admin_data.fullname" type="text" placeholder="Enter Admin's full name">
					</div>
					<div class="admin-input-wrapper">
						<label class="bold-text">Email Address</label>
						<input ng-change="changeBtnToActive()" ng-model="add_admin_data.email" type="text" placeholder="Enter Admin's full name">
					</div>
					<div class="admin-input-wrapper">
						<label class="bold-text">Mobile Number</label>
						<div class="display-flex mobile-number-input">
							<div>
								<input ng-change="changeBtnToActive()" ng-model="add_admin_data.phone_code" type="tel" id="phone_number_add_admin">
							</div>
							<input ng-change="changeBtnToActive()" ng-model="add_admin_data.mobile_number" type="number" placeholder="Enter Admin's Mobile Number">
						</div>
					</div>
				</div> -->
				<div class="permission-wrapper">
					<label class="bold-text">Permissions will be applied to</label>
					<div class="display-flex">
						<div>
							<div class="permission-input-wrapper">
								<div ng-click="adminPermission()">
									<span ng-bind="permission_data">All Employee & Dependents</span>
									<i class="fa fa-angle-down"></i>
								</div>
								<div ng-if="permissionSelector" class="permission-selector-dp-wrapper location-department-container">
									<div ng-click="permissionSelectorData('locations')">Locations</div>
									<div ng-click="permissionSelectorData('departments')">Department</div>
								</div>
							</div>
							<div ng-if="showLocationSelector" class="choose-selector-container">
								<div class="permission-input-wrapper" ng-click="chooseSelector('locations')">
									<span>Choose locations</span>
									<i class="fa fa-angle-down"></i>
								</div>
								<div ng-if="chooseSelectorLocation" class="permission-selector-dp-wrapper">
									<div ng-repeat="list in locations_data track by $index" class="custom-checkbox-container">
										<label class="checkbox-input">
											<span ng-bind="list.location" class="checkbox-text"></span>
											<input ng-click="selectedPermission('locations',list,list.status)" ng-model="list.status" type="checkbox"/>
											<span class="checkbox-mark"></span>
										</label>
									</div>
								</div>
							</div>
							<div ng-if="showDepartmentSelector" class="choose-selector-container">
								<div class="permission-input-wrapper" ng-click="chooseSelector('departments')">
									<span>Choose Departments</span>
									<i class="fa fa-angle-down"></i>
								</div>
								<div ng-if="chooseSelectorDepartment" class="permission-selector-dp-wrapper">
									<div ng-repeat="list in departments_data track by $index" class="custom-checkbox-container">
										<label class="checkbox-input">
											<span ng-bind="list.department_name" class="checkbox-text"></span>
											<input ng-click="selectedPermission('departments',list,list.status)" ng-model="list.status" type="checkbox"/>
											<span class="checkbox-mark"></span>
										</label>
									</div>
								</div>
							</div>
						</div>
						<div class="location-department-data-wrapper">
							<div ng-if="selected_location_data.length > 0" class="filter-data-selector-wrapper">
								<div ng-repeat="list in selected_location_data" class="filter-data-selector-container">
									<div ng-bind="list.location">Location 1</div>
									<img ng-click="selectedPermission('locations',list,false)" src="../assets/hr-dashboard/img/times-dark-blue.png">
								</div>
							</div>
							<div ng-if="permission_data == 'Departments' " class="filter-data-selector-wrapper">
								<div ng-repeat="list in selected_department_data" class="filter-data-selector-container">
									<div ng-bind="list.department_name">Location 1</div>
									<img ng-click="selectedPermission('departments',list,false)" src="../assets/hr-dashboard/img/times-dark-blue.png">
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="administrator-info-container">
					<label class="bold-text">This admin will able to</label>
					<div class="custom-checkbox-container default-permission">
						<label class="checkbox-input">
							<span class="checkbox-text">View employee + dependent profile information</span >
							<input ng-model="add_admin_data.view_employee_dependent" type="checkbox">
							<span class="checkbox-mark"></span>
						</label>
					</div>
					<div class="custom-checkbox-container active">
						<label class="checkbox-input">
							<span class="checkbox-text">Edit employee + dependent profiles</span >
							<input ng-change="changeBtnToActive()" ng-model="add_admin_data.edit_employee_dependent" type="checkbox"/>
							<span class="checkbox-mark"></span>
						</label>
					</div>
					<div class="custom-checkbox-container active">
						<label class="checkbox-input">
							<span class="checkbox-text">Enroll & terminate employee + dependent</span >
							<input ng-change="changeBtnToActive()" ng-model="add_admin_data.enroll_terminate_employee" type="checkbox"/>
							<span class="checkbox-mark"></span>
						</label>
					</div>
					<div class="custom-checkbox-container active">
						<label class="checkbox-input">
							<span class="checkbox-text">Approve, reject & edit non-panel claims</span >
							<input ng-change="changeBtnToActive()" ng-model="add_admin_data.approve_reject_edit_non_panel_claims" type="checkbox"/>
							<span class="checkbox-mark"></span>
						</label>
					</div>
					<div class="custom-checkbox-container active">
						<label class="checkbox-input">
							<span class="checkbox-text">Create, remove admins, edit admins permission & unlink company account</span >
							<input ng-change="changeBtnToActive()" ng-model="add_admin_data.create_remove_edit_admin_unlink_account" type="checkbox"/>
							<span class="checkbox-mark"></span>
						</label>
					</div>
					<div class="custom-checkbox-container active">
						<label class="checkbox-input">
							<span class="checkbox-text">Managing billing & payments</span >
							<input ng-change="changeBtnToActive()" ng-model="add_admin_data.manage_billing_and_payments" type="checkbox"/>
							<span class="checkbox-mark"></span>
						</label>
					</div>
					<div class="custom-checkbox-container active">
						<label class="checkbox-input">
							<span class="checkbox-text">Add locations & Departments</span >
							<input ng-change="changeBtnToActive()" ng-model="add_admin_data.add_location_departments" type="checkbox"/>
							<span class="checkbox-mark"></span>
						</label>
					</div>
				</div>
			</div>
			<div ng-if="isAddAdministratorConfirm && !isAddAdministratorSuccess" class="modal-body confirm-add-administrator">
				<div>Are you sure you want to add this administrator?</div>
				<div>Please confirm to proceed.</div>
			</div>
			<div ng-if="isAddAdministratorSuccess" class="modal-body administrator-success">
				<img src="../assets/images/success-circle.png">
				<div>Administrator has been successfully added.</div>
			</div>
			<div class="modal-footer">
				<button ng-if="!isAddAdministratorSuccess" data-dismiss="modal" class="btn-cancel-admin">Cancel</button>
				<!-- <button ng-if="!isAddAdministratorConfirm" ng-click="addAdministrator( )" class="btn-update disabled" ng-class="{'active': activeAdminBtn && isEmployeePending == false || isSearchEmpty == false}">Add Admin</button> -->
				<!-- <button ng-if="!isAddAdministratorConfirm" ng-click="addAdministrator( )" class="btn-update" ng-disabled="( isEmployeePending == true ) && ( activeAdminBtn == false || add_admin_data.fullname == '' || add_admin_data.email == '' || add_admin_data.mobile_number == '' ) ">Add Admin</button> -->
				<button ng-if="!isAddAdministratorConfirm" ng-click="addAdministrator( )" class="btn-update" ng-disabled="( activeAdminBtn == false || isEmployeePending == true ) && ( activeAdminBtn == false || add_admin_data.fullname == '' || add_admin_data.email == '' || add_admin_data.mobile_number == '' )">Add Admin</button>
				<button ng-if="isAddAdministratorConfirm && !isAddAdministratorSuccess" ng-click="confirmAdmininistrator( )" class="btn-update confirm">Confirm</button>
				<button ng-if="isAddAdministratorSuccess" data-dismiss="modal" class="btn-update btn-close">Close</button>
			</div>
		</div>
	</div>
</div> 

<style scoped>
  @import url('../assets/hr-dashboard/templates/employeeInformation/employeeSettings/style.css');
</style>